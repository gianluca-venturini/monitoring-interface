<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">

    <meta name="description" content="">

    <title>Monitoring Interface</title>

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link href="css/page.css" rel="stylesheet" type="text/css">
    <link href="css/cursor.css" rel="stylesheet" type="text/css">
    <link href="css/ui-connection-view.css" rel="stylesheet" type="text/css">
    <link href="css/ui-application.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/highlight.default.min.css">

    <script src="js/lib/d3.v3.min.js" charset="utf-8"></script>
    <script src="js/lib/underscore-min.js" charset="utf-8"></script>
    <script src="js/lib/jquery-1.10.0.min.js" charset="utf-8"></script>
    <script src="js/lib/bootstrap.min.js" charset="utf-8"></script>
    <script src="js/lib/highlight.min.js"></script>

    <script src="js/d3/layout/radial-layout.js" charset="utf-8"></script>
    <script src="js/d3/layout/grid-layout.js" charset="utf-8"></script>

    <script src="js/d3/notification/notifications.js" charset="utf-8"></script>
    <script src="js/d3/notification/notification-center.js" charset="utf-8"></script>

    <script src="js/d3/model/applications-model.js" charset="utf-8"></script>

    <script src="js/d3/view-controller/view-controller.js" charset="utf-8"></script>
    <script src="js/d3/view-controller/window-view-controller.js" charset="utf-8"></script>
    <script src="js/d3/view-controller/application-view-controller.js" charset="utf-8"></script>
    <script src="js/d3/view-controller/instance-view-controller.js" charset="utf-8"></script>

    <script src="js/d3/plugin/graphics.js" charset="utf-8"></script>
    <script src="js/d3/plugin/tab-table.js" charset="utf-8"></script>

    <script src="js/d3/ui/animations.js" charset="utf-8"></script>
    <script src="js/d3/ui/ui-element.js" charset="utf-8"></script>
    <script src="js/d3/ui/ui-notification.js" charset="utf-8"></script>
    <script src="js/d3/ui/ui-application.js" charset="utf-8"></script>
    <script src="js/d3/ui/ui-connection-view.js" charset="utf-8"></script>
    <script src="js/d3/ui/ui-tab.js" charset="utf-8"></script>
</head>
<body style="margin: 0">

<svg id="container"></svg>

<!-- Modal -->
<div class="modal fade" id="messageDisplay" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-messages">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Message display</h4>
            </div>
            <div class="modal-body">
                <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                    <div class="panel panel-default">
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            <div class="panel-heading" role="tab" id="headingOne">
                                <h4 class="panel-title">
                                    Message #1  03/26/2015 21:15
                                </h4>
                            </div>
                        </a>
                        <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                            <div class="panel-body">
                                <pre>
                                    <code class="JSON">
                                        {"web-app": {
                                        "servlet": [
                                        {
                                        "servlet-name": "cofaxCDS",
                                        "servlet-class": "org.cofax.cds.CDSServlet",
                                        "init-param": {
                                        "configGlossary:installationAt": "Philadelphia, PA",
                                        "configGlossary:adminEmail": "ksm@pobox.com",
                                        "configGlossary:poweredBy": "Cofax",
                                        "configGlossary:poweredByIcon": "/images/cofax.gif",
                                        "configGlossary:staticPath": "/content/static",
                                        "templateProcessorClass": "org.cofax.WysiwygTemplate",
                                        "templateLoaderClass": "org.cofax.FilesTemplateLoader",
                                        "templatePath": "templates",
                                        "templateOverridePath": "",
                                        "defaultListTemplate": "listTemplate.htm",
                                        "defaultFileTemplate": "articleTemplate.htm",
                                        "useJSP": false,
                                        "jspListTemplate": "listTemplate.jsp",
                                        "jspFileTemplate": "articleTemplate.jsp",
                                        "cachePackageTagsTrack": 200,
                                        "cachePackageTagsStore": 200,
                                        "cachePackageTagsRefresh": 60,
                                        "cacheTemplatesTrack": 100,
                                        "cacheTemplatesStore": 50,
                                        "cacheTemplatesRefresh": 15,
                                        "cachePagesTrack": 200,
                                        "cachePagesStore": 100,
                                        "cachePagesRefresh": 10,
                                        "cachePagesDirtyRead": 10,
                                        "searchEngineListTemplate": "forSearchEnginesList.htm",
                                        "searchEngineFileTemplate": "forSearchEngines.htm",
                                        "searchEngineRobotsDb": "WEB-INF/robots.db",
                                        "useDataStore": true,
                                        "dataStoreClass": "org.cofax.SqlDataStore",
                                        "redirectionClass": "org.cofax.SqlRedirection",
                                        "dataStoreName": "cofax",
                                        "dataStoreDriver": "com.microsoft.jdbc.sqlserver.SQLServerDriver",
                                        "dataStoreUrl": "jdbc:microsoft:sqlserver://LOCALHOST:1433;DatabaseName=goon",
                                        "dataStoreUser": "sa",
                                        "dataStorePassword": "dataStoreTestQuery",
                                        "dataStoreTestQuery": "SET NOCOUNT ON;select test='test';",
                                        "dataStoreLogFile": "/usr/local/tomcat/logs/datastore.log",
                                        "dataStoreInitConns": 10,
                                        "dataStoreMaxConns": 100,
                                        "dataStoreConnUsageLimit": 100,
                                        "dataStoreLogLevel": "debug",
                                        "maxUrlLength": 500}},
                                        {
                                        "servlet-name": "cofaxEmail",
                                        "servlet-class": "org.cofax.cds.EmailServlet",
                                        "init-param": {
                                        "mailHost": "mail1",
                                        "mailHostOverride": "mail2"}},
                                        {
                                        "servlet-name": "cofaxAdmin",
                                        "servlet-class": "org.cofax.cds.AdminServlet"},

                                        {
                                        "servlet-name": "fileServlet",
                                        "servlet-class": "org.cofax.cds.FileServlet"},
                                        {
                                        "servlet-name": "cofaxTools",
                                        "servlet-class": "org.cofax.cms.CofaxToolsServlet",
                                        "init-param": {
                                        "templatePath": "toolstemplates/",
                                        "log": 1,
                                        "logLocation": "/usr/local/tomcat/logs/CofaxTools.log",
                                        "logMaxSize": "",
                                        "dataLog": 1,
                                        "dataLogLocation": "/usr/local/tomcat/logs/dataLog.log",
                                        "dataLogMaxSize": "",
                                        "removePageCache": "/content/admin/remove?cache=pages&id=",
                                        "removeTemplateCache": "/content/admin/remove?cache=templates&id=",
                                        "fileTransferFolder": "/usr/local/tomcat/webapps/content/fileTransferFolder",
                                        "lookInContext": 1,
                                        "adminGroupID": 4,
                                        "betaServer": true}}],
                                        "servlet-mapping": {
                                        "cofaxCDS": "/",
                                        "cofaxEmail": "/cofaxutil/aemail/*",
                                        "cofaxAdmin": "/admin/*",
                                        "fileServlet": "/static/*",
                                        "cofaxTools": "/tools/*"},

                                        "taglib": {
                                        "taglib-uri": "cofax.tld",
                                        "taglib-location": "/WEB-INF/tlds/cofax.tld"}}}
                                    </code>
                                </pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

</body>

<script>

    // Color the code
    $(document).ready(function() {
        $('pre code').each(function(i, block) {
            try {
                console.log(block);
                var json = JSON.parse(block.innerHTML);
                block.innerHTML = JSON.stringify(json, null, 4);
                hljs.highlightBlock(block);
                //hljs.highlightBlock(block)
            }
            catch(err) {
                alert("Not json");
            }

        });
    });

    var svg = d3.select("#container");

    // Set background color
    svg.style("background", defaultPalette.background.normal);

    windowViewController.view = svg;
    windowViewController.updateViewBox();

    applicationModel.fetchData("data/data.json");

    /*
    var c = 0;
    window.setInterval(function(){
        console.log("change");
        if(c%4 == 0)
            applicationModel.fetchData("data/data2.json");
        else if(c%4 == 1)
            applicationModel.fetchData("data/data3.json");
        else if(c%4 == 2)
            applicationModel.fetchData("data/data4.json");
        else
            applicationModel.fetchData("data/data.json");
        c++;
    }, 5000);
    */

</script>

</html>